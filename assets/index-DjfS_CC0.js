import{a as $e,r as Ce,b as $,o as Q,w as le,c as _e,d as me,e as u,u as Se,f as he,g as P,h as ce,i as v,j as e,t as o,k as U,l as ne,m as J,n as re,p as X,F as q,q as F,s as B,v as z,x as Pe,y as R,z as M,A as K,B as Ie,C as Ae,D as Le}from"./vendor-BXJOK527.js";/* empty css               */(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))t(n);new MutationObserver(n=>{for(const d of n)if(d.type==="childList")for(const _ of d.addedNodes)_.tagName==="LINK"&&_.rel==="modulepreload"&&t(_)}).observe(document,{childList:!0,subtree:!0});function l(n){const d={};return n.integrity&&(d.integrity=n.integrity),n.referrerPolicy&&(d.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?d.credentials="include":n.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function t(n){if(n.ep)return;n.ep=!0;const d=l(n);fetch(n.href,d)}})();const D={site:{title:"云间来客 - 百业风华录",description:"云间来客致力于展示各流派咸鱼人生的风采。"},navigation:{logo:"https://www.yysls.cn/pc/gw/20220815175950/img/logo2_97a4294.png",title:"云间来客",colors:{background:"#1A202C",backgroundScrolled:"rgba(26, 32, 44, 0.98)",textColor:"#E2E8F0",textHoverColor:"#F7FAFC"}},hero:{logo:"https://www.yysls.cn/pc/gw/20220815175950/img/logo3_e2ad630.png",title:"云间来客",subtitle:"云间聚义，快意恩仇，来客共醉，剑指山河",background:{url:"https://s3plus.meituan.net/opapisdk/op_ticket_885190757_1759601148769_qdqqd_isrrnt.avif",mobileUrl:"https://s3plus.meituan.net/opapisdk/op_ticket_885190757_1759594591012_qdqqd_w4cgry.avif",type:"image",fallback:"https://s3plus.meituan.net/opapisdk/op_ticket_885190757_1759601148769_qdqqd_isrrnt.avif"},overlay:"linear-gradient(135deg, rgba(26, 32, 44, 0.7) 0%, rgba(141, 54, 212, 0.3) 50%, rgba(74, 85, 104, 0.3) 100%)",buttons:{primary:{background:"linear-gradient(135deg, #F7FAFC, #E2E8F0)",color:"#2D3748",shadow:"rgba(247, 250, 252, 0.3)"},secondary:{background:"transparent",color:"#F7FAFC",border:"#F7FAFC"}},typography:{textShadow:"-3px -3px 5px #000000, 3px -3px 5px #000000,-3px 3px 5px #000000,3px 3px 5px #000000;"}},videoShowcase:{header:{title:"百业混剪",subtitle:"生而微末者，侠为其声"},background:{url:"https://s3plus.meituan.net/opapisdk/op_ticket_885190757_1759601148769_qdqqd_isrrnt.avif",type:"image",mobileUrl:"https://s3plus.meituan.net/opapisdk/op_ticket_885190757_1759594591012_qdqqd_w4cgry.avif",fallback:"https://s3plus.meituan.net/opapisdk/op_ticket_885190757_1759601148769_qdqqd_isrrnt.avif"},overlay:"linear-gradient(135deg, rgba(154, 103, 211, 0.3) 10%, rgba(0, 0, 0, 0.5) 100%)"},organizationActivities:{header:{title:"百业活动",subtitle:"各行各业，精彩纷呈"},background:{url:"https://s3plus.meituan.net/opapisdk/op_ticket_885190757_1759601148769_qdqqd_isrrnt.avif",mobileUrl:"https://s3plus.meituan.net/opapisdk/op_ticket_885190757_1759594591012_qdqqd_w4cgry.avif",type:"image",fallback:"https://s3plus.meituan.net/opapisdk/op_ticket_885190757_1759601148769_qdqqd_isrrnt.avif"},overlay:"linear-gradient(135deg, rgb(189, 131, 255, 0.3) 0%, rgb(0, 0, 0, 1) 100%)"},characterGallery:{header:{title:"百业人员",subtitle:"精英人才，各展风采"},background:"linear-gradient(135deg, rgba(154, 103, 211, 0.2) 10%, rgba(0, 0, 0, 0.8) 100%)",pagination:{charactersPerPage:30},listStyle:{background:"#1A202C",itemHover:"linear-gradient(135deg, #2D3748 60%, #4A5568 100%)",textColor:"#ffffff"},characterInfo:{displayTime:2e3,typography:{name:{color:"#ffffff",textAlign:"left",textShadow:"0 0 5px #000, 0 0 10px #000, 0 0 15px #000"},title:{color:"#E2E8F0",textAlign:"left"},description:{color:"#CBD5E0",textAlign:"left"}}}},about:{title:"加入我们",subtitle1:"燕云十六声百业搜索",subtitle2:"云间来客",background:"#1A202C",content:{text1:["侠义同心，云游江湖，云踪侠影，逍遥天地。","平等对待每一个人，尽量在群里和大家多多交流沟通认识。"],text2:["自由、平等、和谐、互助。","我们相信，每个人都有自己的独特价值。"]}},footer:{background:"#1A202C",sections:[{title:"云间来客",content:"展示各流派咸鱼人才，弘扬咸鱼精神"},{title:"",content:""},{title:"加入我们",social:[{platform:"通过游戏百业公告获取",account:"联系社长或者副社长"}]}],copyright:"&copy; 2025 云间来客. 保留所有权利."},media:{image:{objectFit:"cover"}},layout:{containerWidth:"1200px",sectionSpacing:"250px"},typography:{fontFamily:"fzcjljt, Arial, sans-serif",sectionTitle:"3rem",textShadow:{section:"2px 2px 4px rgba(0, 0, 0, 0.1)"}}},ee=$e.create({baseURL:"https://tgs-admin.xiaojingge.com/api",timeout:1e4});ee.interceptors.response.use(r=>{const a=r.data;return a.code===200?a.data:(console.error("API Error:",a.message),Promise.reject(new Error(a.message||"请求失败")))},r=>(console.error("Network Error:",r),Promise.reject(r)));const N=r=>ee.get(`/config/${r}`),qe=()=>ee.get("/videos"),Fe=()=>ee.get("/activities"),je=()=>ee.get("/characters");function G(r,a){if(!a||typeof a!="object")return r;const l={...r};for(const t in a)a.hasOwnProperty(t)&&(a[t]&&typeof a[t]=="object"&&!Array.isArray(a[t])?l[t]=G(l[t]||{},a[t]):l[t]=a[t]);return l}const s=Ce({...D}),ye=$(!1);async function ze(){console.log("🔄 开始加载动态配置...");try{const[r,a,l,t,n,d,_,k]=await Promise.allSettled([N("site_basic").catch(m=>(console.warn("⚠️ 加载 site_basic 配置失败，使用默认值:",m.message),null)),N("hero_config").catch(m=>(console.warn("⚠️ 加载 hero_config 配置失败，使用默认值:",m.message),null)),N("video_showcase_config").catch(m=>(console.warn("⚠️ 加载 video_showcase_config 配置失败，使用默认值:",m.message),null)),N("organization_config").catch(m=>(console.warn("⚠️ 加载 organization_config 配置失败，使用默认值:",m.message),null)),N("character_config").catch(m=>(console.warn("⚠️ 加载 character_config 配置失败，使用默认值:",m.message),null)),N("about_config").catch(m=>(console.warn("⚠️ 加载 about_config 配置失败，使用默认值:",m.message),null)),N("footer_config").catch(m=>(console.warn("⚠️ 加载 footer_config 配置失败，使用默认值:",m.message),null)),N("weekly_report_config").catch(m=>(console.warn("⚠️ 加载 weekly_report_config 配置失败，使用默认值:",m.message),null))]);r.status==="fulfilled"&&r.value&&(console.log("✅ 成功加载 site_basic 配置"),Object.assign(s.site,r.value)),a.status==="fulfilled"&&a.value&&(console.log("✅ 成功加载 hero_config 配置"),Object.assign(s.hero,G(D.hero,a.value))),l.status==="fulfilled"&&l.value&&(console.log("✅ 成功加载 video_showcase_config 配置"),Object.assign(s.videoShowcase,G(D.videoShowcase,l.value))),t.status==="fulfilled"&&t.value&&(console.log("✅ 成功加载 organization_config 配置"),Object.assign(s.organizationActivities,G(D.organizationActivities,t.value))),n.status==="fulfilled"&&n.value&&(console.log("✅ 成功加载 character_config 配置"),Object.assign(s.characterGallery,G(D.characterGallery,n.value))),d.status==="fulfilled"&&d.value&&(console.log("✅ 成功加载 about_config 配置"),Object.assign(s.about,G(D.about,d.value))),_.status==="fulfilled"&&_.value&&(console.log("✅ 成功加载 footer_config 配置"),Object.assign(s.footer,G(D.footer,_.value))),k.status==="fulfilled"&&k.value&&(console.log("✅ 成功加载 weekly_report_config 配置"),s.weeklyReport=k.value),console.log("✅ 动态配置加载完成"),console.log("📊 最终配置:",s)}catch(r){console.error("❌ 加载配置时发生错误，使用默认配置:",r)}finally{ye.value=!0}}const De={__name:"App",setup(r){Q(async()=>{await ze()}),le(ye,t=>{t&&(document.title=s.site.title,l(),requestAnimationFrame(()=>{requestAnimationFrame(()=>{a()})}))});function a(){const t=document.getElementById("app"),n=document.getElementById("loading-screen");setTimeout(()=>{t&&t.classList.add("loaded"),n&&(n.classList.add("hidden"),setTimeout(()=>{n.remove()},500))},150)}function l(){const t=document.documentElement;t.style.setProperty("--container-width",s.layout.containerWidth),t.style.setProperty("--section-spacing",s.layout.sectionSpacing),t.style.setProperty("--nav-background",s.navigation.colors.background),t.style.setProperty("--nav-background-scrolled",s.navigation.colors.backgroundScrolled),t.style.setProperty("--nav-text-color",s.navigation.colors.textColor),t.style.setProperty("--nav-text-hover-color",s.navigation.colors.textHoverColor),t.style.setProperty("--btn-primary-bg",s.hero.buttons.primary.background),t.style.setProperty("--btn-primary-color",s.hero.buttons.primary.color),t.style.setProperty("--btn-primary-shadow",s.hero.buttons.primary.shadow),t.style.setProperty("--btn-secondary-bg",s.hero.buttons.secondary.background),t.style.setProperty("--btn-secondary-color",s.hero.buttons.secondary.color),t.style.setProperty("--btn-secondary-border",s.hero.buttons.secondary.border),t.style.setProperty("--about-bg",s.about.background),t.style.setProperty("--footer-bg",s.footer.background),t.style.setProperty("--hero-overlay",s.hero.overlay),t.style.setProperty("--video-overlay",s.videoShowcase.overlay),t.style.setProperty("--org-overlay",s.organizationActivities.overlay),t.style.setProperty("--character-bg",s.characterGallery.background),t.style.setProperty("--character-sidebar-bg",s.characterGallery.listStyle.background),t.style.setProperty("--character-item-hover",s.characterGallery.listStyle.itemHover),t.style.setProperty("--character-text-color",s.characterGallery.listStyle.textColor),t.style.setProperty("--font-family",s.typography.fontFamily),t.style.setProperty("--hero-title-shadow",s.hero.typography.textShadow),t.style.setProperty("--section-title-size",s.typography.sectionTitle),t.style.setProperty("--section-title-shadow",s.typography.textShadow.section),t.style.setProperty("--character-name-color",s.characterGallery.characterInfo.typography.name.color),t.style.setProperty("--character-name-align",s.characterGallery.characterInfo.typography.name.textAlign),t.style.setProperty("--character-name-shadow",s.characterGallery.characterInfo.typography.name.textShadow),t.style.setProperty("--character-title-color",s.characterGallery.characterInfo.typography.title.color),t.style.setProperty("--character-title-align",s.characterGallery.characterInfo.typography.title.textAlign),t.style.setProperty("--character-desc-color",s.characterGallery.characterInfo.typography.description.color),t.style.setProperty("--character-desc-align",s.characterGallery.characterInfo.typography.description.textAlign),console.log("CSS变量已应用")}return(t,n)=>{const d=me("router-view");return u(),_e(d)}}},Te={class:"main-nav__container"},Ee={class:"main-nav__brand"},Ve=["src"],Be={class:"main-nav__menu"},de={__name:"Navigation",setup(r){const a=Se(),l=he(),t=P(()=>s.navigation.logo),n=P(()=>s.navigation.title),d=$({});function _(){window.scrollY>100?d.value={background:"rgba(26, 32, 44, 0.98)",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.2)"}:d.value={background:"rgba(45, 55, 72, 0.95)",boxShadow:"none"}}function k(m){if(l.path!=="/")a.push({path:"/",hash:`#${m}`});else{const y=document.getElementById(m);y&&y.scrollIntoView({behavior:"smooth",block:"start"})}}return Q(()=>{window.addEventListener("scroll",_)}),ce(()=>{window.removeEventListener("scroll",_)}),(m,y)=>{const g=me("router-link");return u(),v("nav",{id:"mainNavigation",class:"main-nav",style:X(d.value)},[e("div",Te,[e("div",Ee,[e("img",{src:t.value,alt:"logo2"},null,8,Ve),e("h2",null,o(n.value),1)]),e("ul",Be,[e("li",null,[U(g,{to:"/",class:"main-nav__link"},{default:ne(()=>[...y[3]||(y[3]=[J("首页",-1)])]),_:1})]),e("li",null,[e("a",{href:"#videoShowcase",class:"main-nav__link",onClick:y[0]||(y[0]=re(i=>k("videoShowcase"),["prevent"]))},"百业混剪")]),e("li",null,[e("a",{href:"#organizationActivities",class:"main-nav__link",onClick:y[1]||(y[1]=re(i=>k("organizationActivities"),["prevent"]))},"百业活动")]),e("li",null,[U(g,{to:"/weekly-report",class:"main-nav__link"},{default:ne(()=>[...y[4]||(y[4]=[J("百业周报",-1)])]),_:1})]),e("li",null,[U(g,{to:"/character-gallery",class:"main-nav__link"},{default:ne(()=>[...y[5]||(y[5]=[J("百业人员",-1)])]),_:1})]),e("li",null,[e("a",{href:"#contactSection",class:"main-nav__link",onClick:y[2]||(y[2]=re(i=>k("contactSection"),["prevent"]))},"加入我们")])])])],4)}}},Ue={id:"contactSection",class:"site-footer"},Oe={class:"container"},He={class:"site-footer__content"},Re={key:0},Me={key:1,class:"site-footer__social"},Ne={class:"site-footer__bottom"},Ge=["innerHTML"],ue={__name:"Footer",setup(r){const a=P(()=>s.footer.sections),l=P(()=>s.footer.copyright);return(t,n)=>(u(),v("footer",Ue,[e("div",Oe,[e("div",He,[(u(!0),v(q,null,F(a.value,(d,_)=>(u(),v("div",{key:_,class:"site-footer__section"},[e("h4",null,o(d.title),1),d.content?(u(),v("p",Re,o(d.content),1)):B("",!0),d.social?(u(),v("div",Me,[(u(!0),v(q,null,F(d.social,(k,m)=>(u(),v("a",{key:m,class:"site-footer__social-link"},o(k.platform)+"："+o(k.account),1))),128))])):B("",!0)]))),128))]),e("div",Ne,[e("p",{innerHTML:l.value},null,8,Ge)])])]))}},Ye=[{id:"five_person_dungeon",name:"互帮互助五人本",description:"百业成员互帮互助，齐心协力，共同拿下五人本！",host:"任何百业成员",time:"任何时间",location:"任何地点",image:"https://s3plus.meituan.net/opapisdk/op_ticket_885190757_1759655632261_qdqqd_nvu0el.png"},{id:"ten_person_dungeon",name:"互帮互助十人侠境",description:"百业成员互帮互助，齐心协力，共同拿下双十人本（百业本+普通本）！",host:"任何百业成员",time:"一般周一晚上集中打本，其它时间补车",location:"任何地点",image:"https://s3plus.meituan.net/opapisdk/op_ticket_885190757_1759655665760_qdqqd_xaus99.png"}],We=[{id:"1",logo:"https://www.yysls.cn/pc/gw/20220815175950/img/logo3_e2ad630.png",title:"同根生",subtitle:"一代天骄，百业为峰",iframeUrl:"https://open.douyin.com/player/video?vid=7540233728745442618&autoplay=0",videoUrl:"https://yysls-file.xiaojingge.com/file/yysls/9b7cece92195d9e4d100ca00d54a2648_x264.mp4",poster:"https://s3plus.meituan.net/opapisdk/op_ticket_885190757_1759674749165_qdqqd_rmekmy.avif",forceUseVideo:!1},{id:"2",logo:"https://www.yysls.cn/pc/gw/20220815175950/img/logo3_e2ad630.png",title:"云间来客",subtitle:"再续前缘，云间来客",iframeUrl:"https://open.douyin.com/player/video?vid=7550609690003016975&autoplay=0",videoUrl:"https://yysls-file.xiaojingge.com/file/yysls/48f8527440354b9d84b67957a917e293_x264.mp4",poster:"https://s3plus.meituan.net/opapisdk/op_ticket_885190757_1759674394990_qdqqd_oftm97.avif",forceUseVideo:!1}],pe=[{id:"char_001",name:"剑客七夜雪",title:"安保部",desc:"为人仁厚，重情重义。",tags:["虹虹玩家","紫色韵味"],avatar:"https://s3plus.meituan.net/opapisdk/op_ticket_885190757_1758596687131_qdqqd_amupkc.jpg",art:["https://s3plus.meituan.net/opapisdk/op_ticket_885190757_1758596025182_qdqqd_39crvd.avif","https://s3plus.meituan.net/opapisdk/op_ticket_885190757_1758596025182_qdqqd_39crvd.avif"]},...Array.from({length:49},(r,a)=>({id:`char_${String(a+2).padStart(3,"0")}`,name:`角色${a+2}`,title:"成员",description:"为人仁厚，重情重义。",tags:["虹虹玩家","紫色韵味","开服玩家"],avatar:"https://s3plus.meituan.net/opapisdk/op_ticket_885190757_1758596687131_qdqqd_amupkc.jpg",art:["https://s3plus.meituan.net/opapisdk/op_ticket_885190757_1758596025182_qdqqd_39crvd.avif"]}))],Ke={guildInfo:{name:"云间来客",id:"10398455",logo:"https://s3plus.meituan.net/opapisdk/op_ticket_885190757_1758552836271_qdqqd_3gp3ep.png",leader:{title:"社主",name:"玉同潇",avatar:"https://gitee.com/xiaojinggege/BaiYeFengHuaLu/raw/Vue/Static/player/avatar/avatar48.avif"},viceLeader:{title:"副社主",name:"江叶如",avatar:"https://gitee.com/xiaojinggege/BaiYeFengHuaLu/raw/Vue/Static/player/avatar/avatar48.avif"}},issue:"第一期",date:"每周一报",publishTime:"2025年8月24日 23:00",activeMembers:[{rank:1,name:"占位",score:"5575"},{rank:2,name:"占位",score:"5535"},{rank:3,name:"占位",score:"5525"},{rank:4,name:"占位",score:"5415"},{rank:5,name:"占位",score:"5205"},{rank:6,name:"占位",score:"5145"},{rank:7,name:"占位",score:"5025"},{rank:8,name:"占位",score:"5004"},{rank:9,name:"占位",score:"4910"},{rank:10,name:"占位",score:"4705"}],loveMusicLeaders:[{leaderName:"占位",leaderAvatar:"https://gitee.com/xiaojinggege/BaiYeFengHuaLu/raw/Vue/Static/player/avatar/avatar35.avif",top5Records:[{rank:1,name:"占位",time:`1'38"`},{rank:2,name:"占位",time:`1'42"`},{rank:3,name:"占位",time:`1'48"`},{rank:4,name:"占位",time:`1'57"`},{rank:5,name:"占位",time:`2'14"`}]},{leaderName:"占位",leaderAvatar:"https://gitee.com/xiaojinggege/BaiYeFengHuaLu/raw/Vue/Static/player/avatar/avatar35.avif",top5Records:[{rank:1,name:"占位",time:`1'32"`},{rank:2,name:"占位",time:`2'38"`},{rank:3,name:"占位",time:`3'01"`},{rank:4,name:"占位",time:`3'02"`},{rank:5,name:"占位",time:`3'28"`}]}],mvpLeaders:[{bossName:"占位",bossAvatar:"https://gitee.com/xiaojinggege/BaiYeFengHuaLu/raw/Vue/Static/player/avatar/avatar35.avif",top5Records:[{rank:1,name:"占位",damage:"12.5万",dps:"8,547"},{rank:2,name:"占位",damage:"11.8万",dps:"7,923"},{rank:3,name:"占位",damage:"10.9万",dps:"7,234"},{rank:4,name:"占位",damage:"9.7万",dps:"6,845"},{rank:5,name:"占位",damage:"8.9万",dps:"6,123"}]},{bossName:"占位",bossAvatar:"https://gitee.com/xiaojinggege/BaiYeFengHuaLu/raw/Vue/Static/player/avatar/avatar35.avif",top5Records:[{rank:1,name:"占位",damage:"15.2万",dps:"9,876"},{rank:2,name:"占位",damage:"14.1万",dps:"8,954"},{rank:3,name:"占位",damage:"13.3万",dps:"8,234"},{rank:4,name:"占位",damage:"12.7万",dps:"7,891"},{rank:5,name:"占位",damage:"11.9万",dps:"7,456"}]}],battleRecords:[{opponent:"占位",result:"win"},{opponent:"占位",result:"win"}],battleMembers:["https://gitee.com/xiaojinggege/BaiYeFengHuaLu/raw/Vue/Static/player/avatar/avatar11.avif","https://gitee.com/xiaojinggege/BaiYeFengHuaLu/raw/Vue/Static/player/avatar/avatar83.avif","https://gitee.com/xiaojinggege/BaiYeFengHuaLu/raw/Vue/Static/player/avatar/avatar35.avif","https://gitee.com/xiaojinggege/BaiYeFengHuaLu/raw/Vue/Static/player/avatar/avatar61.avif","https://gitee.com/xiaojinggege/BaiYeFengHuaLu/raw/Vue/Static/player/avatar/avatar39.avif"],newMembers:[{name:"占位",avatar:"https://gitee.com/xiaojinggege/BaiYeFengHuaLu/raw/Vue/Static/player/avatar/avatar11.avif"},{name:"占位",avatar:"https://gitee.com/xiaojinggege/BaiYeFengHuaLu/raw/Vue/Static/player/avatar/avatar83.avif"},{name:"占位",avatar:"https://gitee.com/xiaojinggege/BaiYeFengHuaLu/raw/Vue/Static/player/avatar/avatar35.avif"},{name:"占位",avatar:"https://gitee.com/xiaojinggege/BaiYeFengHuaLu/raw/Vue/Static/player/avatar/avatar61.avif"},{name:"占位",avatar:"https://gitee.com/xiaojinggege/BaiYeFengHuaLu/raw/Vue/Static/player/avatar/avatar39.avif"},{name:"占位",avatar:"https://gitee.com/xiaojinggege/BaiYeFengHuaLu/raw/Vue/Static/player/avatar/avatar34.avif"},{name:"占位",avatar:"https://gitee.com/xiaojinggege/BaiYeFengHuaLu/raw/Vue/Static/player/avatar/avatar42.avif"},{name:"占位",avatar:"https://gitee.com/xiaojinggege/BaiYeFengHuaLu/raw/Vue/Static/player/avatar/avatar21.avif"}],weeklySummary:{title:"上周纂要",mainContent:"占位。",highlights:[{type:"green",label:"[xxx推荐]",text:"占位"},{type:"blue",label:"[xxx推荐]",text:"占位"},{type:"purple",label:"[xxx推荐]",text:"占位"}]},stats:{prosperity:{value:"999999",trend:"占位",icon:"🏆",label:"百业繁荣度"},ranking:{value:"暂无",badge:"暂无",icon:"🎯",label:"百业排名"},members:{value:"100",trend:"占位",icon:"👥",label:"活跃成员"},activities:{value:"28",trend:"占位",icon:"⚔️",label:"本周活动"}},footerInfo:{timestamp:"数据收集时间：2025年8月24日 23:00",version:"周报版本：v1.0.0"}};function Je(){return/MicroMessenger/i.test(navigator.userAgent)}function Xe(r,a,l={}){const t=$(null),n=$(a),{onLoadStart:d=()=>{},onCanPlay:_=()=>{},onError:k=()=>{}}=l,m=()=>{if(!r.value||typeof Plyr>"u"){console.warn("Plyr未加载或视频元素不存在");return}const g=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,i=Je();console.log("初始化Plyr播放器...",g?"[iOS设备]":"[非iOS设备]",i?"[微信浏览器]":""),t.value=new Plyr(r.value,{controls:["play-large","play","progress","current-time","mute","volume","captions","settings","pip","airplay","fullscreen"],settings:["quality","speed"],quality:{default:720,options:[1080,720,480,360]},speed:{selected:1,options:[.5,.75,1,1.25,1.5,2]},autopause:!0,resetOnEnd:!1,clickToPlay:!0,disableContextMenu:!1,hideControls:!0,keyboard:{focused:!0,global:!1},tooltips:{controls:!0,seek:!0},i18n:{restart:"重新播放",rewind:"快退 {seektime}s",play:"播放",pause:"暂停",fastForward:"快进 {seektime}s",seek:"跳转",seekLabel:"{currentTime} / {duration}",played:"已播放",buffered:"已缓冲",currentTime:"当前时间",duration:"总时长",volume:"音量",mute:"静音",unmute:"取消静音",enableCaptions:"开启字幕",disableCaptions:"关闭字幕",download:"下载",enterFullscreen:"进入全屏",exitFullscreen:"退出全屏",frameTitle:"播放器 {title}",captions:"字幕",settings:"设置",pip:"画中画",menuBack:"返回上级菜单",speed:"播放速度",normal:"正常",quality:"画质",loop:"循环播放",start:"开始",end:"结束",all:"全部",reset:"重置",disabled:"已禁用",enabled:"已启用",advertisement:"广告",qualityBadge:{2160:"4K",1440:"HD",1080:"HD",720:"HD",576:"SD",480:"SD"}}}),a&&a.videoUrl&&(t.value.source={type:"video",sources:[{src:a.videoUrl,type:"video/mp4"}],poster:a.poster||""},console.log("视频源已设置:",a.videoUrl));let b=!1;const x=w=>{b||(b=!0,console.log(`✅ 视频准备就绪 (通过${w}事件)`),_())};t.value.on("ready",()=>{console.log("✅ Plyr播放器就绪");const w=t.value.media;w&&(w.setAttribute("playsinline",""),w.setAttribute("webkit-playsinline",""),w.setAttribute("x-webkit-airplay","allow"),w.setAttribute("x5-video-player-type","h5"),w.setAttribute("x5-video-player-fullscreen","true"),console.log("✅ iOS/微信视频属性已设置"),i&&(console.log("🔧 微信浏览器：添加原生video事件监听"),w.addEventListener("loadedmetadata",()=>{console.log("📹 [原生] loadedmetadata 触发"),x("loadedmetadata")}),w.addEventListener("loadeddata",()=>{console.log("📹 [原生] loadeddata 触发"),x("loadeddata")}),w.addEventListener("canplay",()=>{console.log("📹 [原生] canplay 触发"),x("canplay")}),w.addEventListener("canplaythrough",()=>{console.log("📹 [原生] canplaythrough 触发"),x("canplaythrough")}),setTimeout(()=>{b||(console.warn("⚠️ 视频加载超时，强制设置为可播放状态"),x("timeout"))},5e3)))}),t.value.on("loadstart",()=>{console.log("📹 视频开始加载..."),b=!1,d()}),t.value.on("loadedmetadata",()=>{console.log("✅ 视频元数据已加载"),i&&x("loadedmetadata-plyr")}),t.value.on("loadeddata",()=>{console.log("✅ 视频数据已加载"),x("loadeddata-plyr")}),t.value.on("canplay",()=>{console.log("✅ 视频可以播放"),x("canplay-plyr")}),t.value.on("playing",()=>{console.log("▶️ 视频正在播放"),x("playing")}),t.value.on("error",w=>{console.error("❌ Plyr播放器错误:",w);const A=t.value.media;A&&A.error&&console.error("❌ Video错误代码:",A.error.code,"message:",A.error.message),k(w)}),console.log("✅ Plyr播放器初始化成功")},y=g=>{t.value&&t.value.source&&(console.log(`🔄 切换视频: ${g.title||g.name}`),console.log("新视频URL:",g.videoUrl),d(),t.value.source={type:"video",sources:[{src:g.videoUrl,type:"video/mp4"}],poster:g.poster},n.value=g,setTimeout(()=>{const i=t.value.media;i&&(i.setAttribute("playsinline",""),i.setAttribute("webkit-playsinline",""),i.setAttribute("x-webkit-airplay","allow"),i.setAttribute("x5-video-player-type","h5"),i.setAttribute("x5-video-player-fullscreen","true"))},100),console.log("✅ 视频切换完成"))};return Q(()=>{const g=setInterval(()=>{typeof Plyr<"u"&&(clearInterval(g),m())},100);setTimeout(()=>{clearInterval(g)},1e4)}),ce(()=>{t.value&&t.value.destroy()}),{player:t,currentSource:n,updateSource:y}}const oe=(r,a)=>{const l=r.__vccOpts||r;for(const[t,n]of a)l[t]=n;return l},Qe=["src"],Ze={class:"hero-section__content"},et=["src"],tt={class:"hero-section__title"},at={class:"hero-section__subtitle"},ot={class:"hero-section__actions"},st={id:"videoShowcaseHeader",class:"section-spacer"},nt={class:"section-header"},rt={class:"section-header__title"},lt={class:"section-header__subtitle"},it=["src"],ct={key:1,class:"video-loading-overlay",style:{display:"flex","justify-content":"center","align-items":"center","min-height":"400px"}},dt={key:2,style:{display:"flex","justify-content":"center","align-items":"center","min-height":"400px",color:"white"}},ut={key:3,class:"video-carousel"},vt={class:"video-carousel__container"},pt={class:"video-carousel__media"},gt={class:"video-section__text"},_t=["src"],mt={class:"video-section__title"},ht={class:"video-section__subtitle"},yt={class:"video-section__video"},ft=["poster"],bt=["src"],kt={key:0,class:"video-loading-overlay"},wt={key:1,class:"video-error-overlay"},xt={id:"organizationActivitiesHeader",class:"section-spacer"},$t={class:"section-header"},Ct={class:"section-header__title"},St={class:"section-header__subtitle"},Pt=["src"],It={key:1,class:"video-loading-overlay",style:{display:"flex","justify-content":"center","align-items":"center","min-height":"400px"}},At={key:2,style:{display:"flex","justify-content":"center","align-items":"center","min-height":"400px",color:"white"}},Lt={key:3,class:"organization-carousel"},qt={class:"organization-carousel__container"},Ft={class:"organization-activity-card"},jt={class:"organization-carousel__image"},zt=["src","alt"],Dt={class:"organization-carousel__content"},Tt={class:"organization-carousel__stats"},Et={id:"aboutSection",class:"content-section"},Vt={class:"container"},Bt={class:"section-header"},Ut={class:"section-header__title"},Ot={class:"section-header__subtitle"},Ht={class:"section-header__subtitle"},Rt={style:{color:"#ff4757","font-weight":"bold"}},Mt={class:"about-section__content"},Nt={class:"about-section__text about-section__text--primary"},Gt={class:"about-section__text about-section__text--secondary"},Yt={__name:"Home",setup(r){const a=he(),l=$(0),t=$(0),n=$(null),d=$("loading");let _=null;const k=$([]),m=$([]),y=$(!1),g=P(()=>k.value[l.value]),i=P(()=>m.value[t.value]);le(g,h=>{console.log("🎬 当前播放视频:",{id:h?.id,title:h?.title,videoUrl:h?.videoUrl||"(空)",iframeUrl:h?.iframeUrl||"(空)",poster:h?.poster||"(空)"})},{immediate:!0});const b={onLoadStart:()=>{console.log("视频开始加载..."),d.value="loading",_&&clearTimeout(_),_=setTimeout(()=>{d.value==="loading"&&(console.warn("⚠️ 视频加载超时保护触发"),d.value="loaded")},3e3)},onCanPlay:()=>{console.log("视频可以播放"),d.value="loaded",_&&clearTimeout(_)},onError:h=>{console.error("视频加载失败:",h),d.value="error",_&&clearTimeout(_)}},{player:x,updateSource:w}=Xe(n,g.value,b),A=$(window.innerWidth),L=P(()=>A.value<=768),Y=h=>h&&[".mp4",".webm",".ogg",".mov"].some(S=>h.toLowerCase().includes(S))?"video":"image",E=h=>{if(!h)return{type:"image",url:""};const c=L.value&&h.mobileUrl?h.mobileUrl:h.url;return{type:(h.type==="auto",Y(c)),url:c,fallback:h.fallback||h.mobileUrl||h.url}},O=P(()=>E(s.hero.background)),j=P(()=>E(s.videoShowcase.background)),p=P(()=>E(s.organizationActivities.background)),f=P(()=>({backgroundImage:`url('${O.value.url}')`,backgroundSize:s.media.image.objectFit,backgroundPosition:"center",backgroundRepeat:"no-repeat"})),T=P(()=>({backgroundImage:`url('${j.value.url}')`,backgroundSize:s.media.image.objectFit,backgroundPosition:"center",backgroundRepeat:"no-repeat"})),C=P(()=>({backgroundImage:`url('${p.value.url}')`,backgroundSize:s.media.image.objectFit,backgroundPosition:"center",backgroundRepeat:"no-repeat"})),V=(h,c)=>{console.warn(`${c} 背景媒体加载失败，使用备用图片`);const S=h.target;let H="",se=s.media.image.objectFit;switch(c){case"hero":H=s.hero.background.fallback;break;case"videoShowcase":H=s.videoShowcase.background.fallback,se=L.value?"cover":"contain";break;case"organizationActivities":H=s.organizationActivities.background.fallback,se=L.value?"cover":"contain";break}if(S.tagName==="VIDEO"){const Z=S.parentElement;S.remove(),Z.style.backgroundImage=`url('${H}')`,Z.style.backgroundSize=se,Z.style.backgroundPosition="center",Z.style.backgroundRepeat="no-repeat",c!=="hero"&&(Z.style.backgroundColor="#000")}};function I(h){const c=document.getElementById(h);c&&c.scrollIntoView({behavior:"smooth",block:"start"})}function W(){if(a.hash){const h=a.hash.replace("#","");Pe(()=>{setTimeout(()=>{I(h)},300)})}}function ve(){console.log("重新加载视频..."),d.value="loading",x.value&&x.value.media&&x.value.media.load()}function be(){l.value=(l.value-1+k.value.length)%k.value.length,w(g.value)}function ke(){l.value=(l.value+1)%k.value.length,console.log("currentVideoIndex",l.value),console.log("currentVideo",g.value),w(g.value)}function we(){t.value=(t.value-1+m.value.length)%m.value.length}function xe(){t.value=(t.value+1)%m.value.length}let te=null;const ae=()=>{clearTimeout(te),te=setTimeout(()=>{A.value=window.innerWidth},300)};return le(()=>a.hash,()=>{W()}),Q(async()=>{W(),window.addEventListener("resize",ae),window.addEventListener("orientationchange",ae);try{const[h,c]=await Promise.all([qe().catch(S=>(console.warn("加载视频数据失败，使用默认数据:",S),null)),Fe().catch(S=>(console.warn("加载活动数据失败，使用默认数据:",S),null))]);h!==null?(console.log("✅ 从API加载视频数据:",h),k.value=h,console.log("📹 当前视频列表:",k.value)):(console.log("⚠️ API调用失败，使用默认视频数据"),k.value=We),c!==null?(console.log("✅ 从API加载活动数据:",c),m.value=c):(console.log("⚠️ API调用失败，使用默认活动数据"),m.value=Ye),y.value=!0,console.log("✅ 数据加载完成")}catch(h){console.error("加载数据失败:",h)}}),ce(()=>{window.removeEventListener("resize",ae),window.removeEventListener("orientationchange",ae),te&&clearTimeout(te),_&&clearTimeout(_)}),(h,c)=>(u(),v("div",null,[U(de),e("section",{id:"heroSection",class:"hero-section hero-section--main-bg",style:X(O.value.type==="image"?f.value:{})},[O.value.type==="video"?(u(),v("video",{key:0,src:O.value.url,autoplay:"",muted:"",loop:"",playsinline:"",class:"section-background-media",onError:c[0]||(c[0]=S=>V(S,"hero"))},null,40,Qe)):B("",!0),e("div",Ze,[e("img",{src:z(s).hero.logo,alt:"logo2",class:"hero-section__logo"},null,8,et),e("h1",tt,o(z(s).hero.title),1),e("p",at,o(z(s).hero.subtitle),1),e("div",ot,[e("button",{class:"btn btn--secondary",onClick:c[1]||(c[1]=S=>I("videoShowcase"))}," 🎬 查看百业混剪 "),e("button",{class:"btn btn--primary",onClick:c[2]||(c[2]=S=>I("organizationActivities"))}," ✨ 探索百业活动 "),e("button",{class:"btn btn--secondary",onClick:c[3]||(c[3]=S=>h.$router.push("/weekly-report"))}," 📰 阅读百业周报 "),e("button",{class:"btn btn--secondary",onClick:c[4]||(c[4]=S=>h.$router.push("/character-gallery"))}," 👥 结识百业人员 ")])]),c[7]||(c[7]=e("div",{class:"hero-section__overlay"},null,-1))],4),e("div",st,[e("div",nt,[e("h2",rt,o(z(s).videoShowcase.header.title),1),e("p",lt,o(z(s).videoShowcase.header.subtitle),1)])]),e("section",{id:"videoShowcase",class:"media-section media-section--video-bg",style:X(j.value.type==="image"?T.value:{})},[j.value.type==="video"?(u(),v("video",{key:0,src:j.value.url,autoplay:"",muted:"",loop:"",playsinline:"",class:"section-background-media",onError:c[5]||(c[5]=S=>V(S,"videoShowcase"))},null,40,it)):B("",!0),c[16]||(c[16]=e("div",{class:"media-section__overlay"},null,-1)),y.value?k.value.length===0?(u(),v("div",dt,[...c[9]||(c[9]=[e("p",null,"暂无视频数据",-1)])])):(u(),v("div",ut,[e("button",{class:"video-carousel__btn video-carousel__btn--prev",onClick:be},[...c[10]||(c[10]=[e("img",{src:"https://www.yysls.cn/pc/fab/20250723194326/img/feature_prev_d3634779.png?image_process=format,png",alt:"左箭头",style:{width:"70px"}},null,-1)])]),e("div",vt,[e("div",pt,[e("div",gt,[e("img",{src:g.value.logo,alt:"logo2",class:"video-section__logo"},null,8,_t),e("h1",mt,o(g.value.title),1),e("p",ht,o(g.value.subtitle),1)]),e("div",yt,[e("video",{ref_key:"plyrVideoRef",ref:n,playsinline:"","webkit-playsinline":"","x-webkit-airplay":"allow",controls:"",preload:"metadata",poster:g.value.poster},[e("source",{src:g.value.videoUrl,type:"video/mp4"},null,8,bt),c[11]||(c[11]=J(" 您的浏览器不支持视频播放。请尝试使用最新版本的 Safari 或 Chrome 浏览器。 ",-1))],8,ft),d.value==="loading"?(u(),v("div",kt,[...c[12]||(c[12]=[e("div",{class:"video-loading-spinner"},null,-1),e("p",null,"视频加载中...",-1)])])):B("",!0),d.value==="error"?(u(),v("div",wt,[c[13]||(c[13]=e("div",{class:"video-error-icon"},"⚠️",-1)),c[14]||(c[14]=e("p",null,"视频加载失败",-1)),e("button",{class:"btn btn--small",onClick:ve},"重新加载")])):B("",!0)])])]),e("button",{class:"video-carousel__btn video-carousel__btn--next",onClick:ke},[...c[15]||(c[15]=[e("img",{src:"https://www.yysls.cn/pc/fab/20250723194326/img/feature_next_6f404b40.png?image_process=format,png",alt:"右箭头",style:{width:"70px"}},null,-1)])])])):(u(),v("div",ct,[...c[8]||(c[8]=[e("div",{class:"video-loading-spinner"},null,-1),e("p",{style:{color:"white","margin-left":"20px"}},"数据加载中...",-1)])]))],4),e("div",xt,[e("div",$t,[e("h2",Ct,o(z(s).organizationActivities.header.title),1),e("p",St,o(z(s).organizationActivities.header.subtitle),1)])]),e("section",{id:"organizationActivities",class:"media-section media-section--organization-bg",style:X(p.value.type==="image"?C.value:{})},[p.value.type==="video"?(u(),v("video",{key:0,src:p.value.url,autoplay:"",muted:"",loop:"",playsinline:"",class:"section-background-media",onError:c[6]||(c[6]=S=>V(S,"organizationActivities"))},null,40,Pt)):B("",!0),c[21]||(c[21]=e("div",{class:"media-section__overlay"},null,-1)),y.value?m.value.length===0?(u(),v("div",At,[...c[18]||(c[18]=[e("p",null,"暂无活动数据",-1)])])):(u(),v("div",Lt,[e("button",{class:"organization-carousel__btn organization-carousel__btn--prev",onClick:we},[...c[19]||(c[19]=[e("img",{src:"https://www.yysls.cn/pc/fab/20250723194326/img/feature_prev_d3634779.png?image_process=format,png",alt:"左箭头",style:{width:"70px"}},null,-1)])]),e("div",qt,[e("div",Ft,[e("div",jt,[e("img",{src:i.value.image,alt:i.value.name},null,8,zt)]),e("div",Dt,[e("h3",null,o(i.value.name),1),e("p",null,o(i.value.description),1),e("div",Tt,[e("span",null,"主持："+o(i.value.host),1),e("span",null,"时间："+o(i.value.time),1),e("span",null,"地点："+o(i.value.location),1)])])])]),e("button",{class:"organization-carousel__btn organization-carousel__btn--next",onClick:xe},[...c[20]||(c[20]=[e("img",{src:"https://www.yysls.cn/pc/fab/20250723194326/img/feature_next_6f404b40.png?image_process=format,png",alt:"右箭头",style:{width:"70px"}},null,-1)])])])):(u(),v("div",It,[...c[17]||(c[17]=[e("div",{class:"video-loading-spinner"},null,-1),e("p",{style:{color:"white","margin-left":"20px"}},"数据加载中...",-1)])]))],4),e("section",Et,[e("div",Vt,[e("div",Bt,[e("h2",Ut,o(z(s).about.title),1),e("p",Ot,o(z(s).about.subtitle1),1),e("p",Ht,[e("span",Rt,o(z(s).about.subtitle2),1)])]),e("div",Mt,[e("div",Nt,[(u(!0),v(q,null,F(z(s).about.content.text1,(S,H)=>(u(),v("p",{key:H},o(S),1))),128))]),e("div",Gt,[(u(!0),v(q,null,F(z(s).about.content.text2,(S,H)=>(u(),v("p",{key:H},o(S),1))),128))])])])]),U(ue)]))}},Wt=oe(Yt,[["__scopeId","data-v-7c0f9395"]]);function ie(){const a=$((()=>{const i=localStorage.getItem("characterData");if(i)try{return JSON.parse(i)}catch(b){console.error("解析存储的角色数据失败:",b)}return[...pe]})());(async()=>{try{const i=await je();i!=null&&(a.value=i,localStorage.setItem("characterData",JSON.stringify(i)))}catch(i){console.warn("从API加载角色数据失败，使用本地数据:",i)}})();const t=i=>{try{return localStorage.setItem("characterData",JSON.stringify(i)),a.value=i,!0}catch(b){return console.error("保存角色数据失败:",b),!1}};return{characters:a,addCharacter:i=>{const b=[...a.value,i];return t(b)},updateCharacter:(i,b)=>{const x=[...a.value];return x[i]=b,t(x)},deleteCharacter:i=>{const b=[...a.value];return b.splice(i,1),t(b)},getCharacterById:i=>a.value.find(b=>b.id===i),searchCharacters:i=>{if(!i)return a.value;const b=i.toLowerCase();return a.value.filter(x=>x.name.toLowerCase().includes(b)||x.id&&x.id.toLowerCase().includes(b))},exportData:()=>{const i={exportTime:new Date().toISOString(),totalCount:a.value.length,characters:a.value},b=JSON.stringify(i,null,2),x=new Blob([b],{type:"application/json"}),w=URL.createObjectURL(x),A=document.createElement("a");A.href=w;const L=new Date().toISOString().replace(/[:.]/g,"-").slice(0,19);A.download=`百业风华录-角色数据-${L}.json`,document.body.appendChild(A),A.click(),document.body.removeChild(A),URL.revokeObjectURL(w)},resetToDefault:()=>t([...pe]),saveToStorage:t}}const Kt={class:"character-management-page"},Jt={class:"character-management-container"},Xt={class:"character-management-header"},Qt={class:"character-management-actions"},Zt={class:"character-management-content"},ea={class:"character-list-management"},ta={class:"character-list-header"},aa={class:"character-count"},oa={class:"character-search-container"},sa={class:"character-management-list"},na={class:"character-info"},ra=["src","alt"],la={class:"character-details"},ia={key:0,class:"character-badge character-badge--title"},ca={key:1,class:"character-badge character-badge--id"},da={class:"character-actions"},ua=["onClick"],va=["onClick"],pa={class:"character-edit-panel"},ga={class:"character-edit-form"},_a={class:"form-group"},ma={class:"form-group"},ha={class:"form-group"},ya={class:"form-group"},fa={class:"form-group"},ba={class:"form-group"},ka={class:"form-group"},wa={__name:"CharacterManagement",emits:["exit"],setup(r,{emit:a}){const{characters:l,addCharacter:t,updateCharacter:n,deleteCharacter:d,searchCharacters:_,exportData:k}=ie(),m=$(""),y=$(-1),g=$({id:"",name:"",title:"",desc:"",tags:[],avatar:"",art:[]}),i=$(""),b=$(""),x=P(()=>_(m.value));function w(){y.value=-1,E()}function A(j){y.value=j;const p=l.value[j];g.value={...p},i.value=p.tags?p.tags.join(", "):"",b.value=p.art?p.art.join(`
`):""}function L(j){confirm("确定要删除这个角色吗？")&&(d(j),E())}function Y(){if(!g.value.name.trim()){alert("请输入角色名称");return}const j=i.value.split(",").map(C=>C.trim()).filter(C=>C),p=b.value.split(`
`).map(C=>C.trim()).filter(C=>C),f={...g.value,id:g.value.id||`char_${Date.now()}`,tags:j,art:p};let T=!1;y.value>=0?(T=n(y.value,f),alert(T?"角色更新成功":"保存失败，请重试")):(T=t(f),alert(T?"角色添加成功":"保存失败，请重试")),T&&E()}function E(){y.value=-1,g.value={id:"",name:"",title:"",desc:"",tags:[],avatar:"",art:[]},i.value="",b.value=""}function O(){k(),alert(`成功导出 ${l.value.length} 个角色的数据！`)}return(j,p)=>(u(),v("div",Kt,[e("div",Jt,[e("div",Xt,[p[10]||(p[10]=e("h2",null,"百业人员管理",-1)),e("div",Qt,[e("button",{class:"btn btn--add",onClick:w},"添加角色"),e("button",{class:"btn btn--primary",onClick:O},"导出数据"),e("button",{class:"btn btn--secondary",onClick:p[0]||(p[0]=f=>j.$emit("exit"))},"返回展示")])]),e("div",Zt,[e("div",ea,[e("div",ta,[p[11]||(p[11]=e("h3",null,"角色列表",-1)),e("div",aa,"总计: "+o(x.value.length)+" 人",1)]),e("div",oa,[R(e("input",{type:"text","onUpdate:modelValue":p[1]||(p[1]=f=>m.value=f),placeholder:"搜索角色名称或游戏ID...",class:"character-search-input"},null,512),[[M,m.value]]),e("button",{class:"btn btn--secondary btn--small",onClick:p[2]||(p[2]=f=>m.value="")},"清空")]),e("div",sa,[(u(!0),v(q,null,F(x.value,(f,T)=>(u(),v("div",{key:f.id,class:"character-management-item"},[e("div",na,[e("img",{src:f.avatar,alt:f.name,class:"character-avatar-small"},null,8,ra),e("div",la,[e("h4",null,o(f.name),1),f.title?(u(),v("div",ia,o(f.title),1)):B("",!0),f.id?(u(),v("div",ca,"ID: "+o(f.id),1)):B("",!0)])]),e("div",da,[e("button",{class:"btn btn--small btn--edit",onClick:C=>A(T)},"编辑",8,ua),e("button",{class:"btn btn--small btn--danger",onClick:C=>L(T)},"删除",8,va)])]))),128))])]),e("div",pa,[p[19]||(p[19]=e("h3",null,"角色编辑",-1)),e("div",ga,[e("div",_a,[p[12]||(p[12]=e("label",{for:"charName"},"角色名称:",-1)),R(e("input",{type:"text",id:"charName","onUpdate:modelValue":p[3]||(p[3]=f=>g.value.name=f),placeholder:"请输入角色名称"},null,512),[[M,g.value.name]])]),e("div",ma,[p[13]||(p[13]=e("label",{for:"charGameId"},"游戏ID:",-1)),R(e("input",{type:"text",id:"charGameId","onUpdate:modelValue":p[4]||(p[4]=f=>g.value.id=f),placeholder:"请输入游戏ID"},null,512),[[M,g.value.id]])]),e("div",ha,[p[14]||(p[14]=e("label",{for:"charTitle"},"角色称号:",-1)),R(e("input",{type:"text",id:"charTitle","onUpdate:modelValue":p[5]||(p[5]=f=>g.value.title=f),placeholder:"请输入角色称号"},null,512),[[M,g.value.title]])]),e("div",ya,[p[15]||(p[15]=e("label",{for:"charDesc"},"角色描述:",-1)),R(e("textarea",{id:"charDesc","onUpdate:modelValue":p[6]||(p[6]=f=>g.value.desc=f),placeholder:"请输入角色描述"},null,512),[[M,g.value.desc]])]),e("div",fa,[p[16]||(p[16]=e("label",{for:"charTags"},"角色标签:",-1)),R(e("input",{type:"text",id:"charTags","onUpdate:modelValue":p[7]||(p[7]=f=>i.value=f),placeholder:"请输入标签，用逗号分隔"},null,512),[[M,i.value]])]),e("div",ba,[p[17]||(p[17]=e("label",{for:"charAvatar"},"头像URL:",-1)),R(e("input",{type:"url",id:"charAvatar","onUpdate:modelValue":p[8]||(p[8]=f=>g.value.avatar=f),placeholder:"请输入头像图片URL"},null,512),[[M,g.value.avatar]])]),e("div",ka,[p[18]||(p[18]=e("label",{for:"charArt"},"立绘URLs:",-1)),R(e("textarea",{id:"charArt","onUpdate:modelValue":p[9]||(p[9]=f=>b.value=f),placeholder:"请输入立绘URLs，每行一个"},null,512),[[M,b.value]])]),e("div",{class:"form-actions"},[e("button",{class:"btn-role btn--save",onClick:Y},"保存角色"),e("button",{class:"btn-role btn--cancel",onClick:E},"重置表单")])])])])])]))}},xa=oe(wa,[["__scopeId","data-v-722c8298"]]);function $a(r){return new Promise((a,l)=>{const t=new Image;t.onload=()=>a(t),t.onerror=l,t.src=r})}function Ca(r){const a=r.map(l=>$a(l));return Promise.all(a)}function Sa(r){Q(async()=>{const a=[];r.value.forEach(l=>{l.avatar&&a.push(l.avatar),l.art&&l.art.length>0&&a.push(...l.art)}),a.length>0&&(await Ca(a),console.log(`已预加载 ${a.length} 张角色图片`))})}const Pa={key:1,class:"character-gallery-page"},Ia={class:"character-gallery-page-header"},Aa={class:"section-header__title",style:{cursor:"pointer","user-select":"none"}},La={class:"section-header__subtitle"},qa={class:"character-showcase__artwork-section"},Fa={class:"character-showcase__artwork"},ja={class:"character-showcase__name"},za={class:"character-showcase__role"},Da={class:"character-showcase__tags"},Ta={class:"character-showcase__description"},Ea={class:"character-showcase__artwork-faces"},Va={class:"character-showcase__artwork-face character-showcase__artwork-face--front"},Ba=["src","alt"],Ua={class:"character-showcase__sidebar"},Oa={class:"character-showcase__active"},Ha=["onClick"],Ra=["src","alt"],Ma={class:"character-showcase__pagination"},Na={class:"character-showcase__page-indicators"},Ga=["onClick"],Ya={__name:"CharacterGallery",setup(r){const a=$(s.characterGallery.pagination.charactersPerPage),l=$(0),t=$(0),n=$(0),d=$(!0),_=$(!1),k=$(0),m=$(!1),y=$("perspective(1000px) rotateX(0deg)");let g=null;const{characters:i}=ie();Sa(i);function b(){k.value++,k.value===1?g=setTimeout(()=>{k.value=0},500):k.value===3&&(clearTimeout(g),k.value=0,_.value=!_.value)}function x(){_.value=!1;const{characters:C}=ie();i.value=C.value}const w=P(()=>Math.ceil(i.value.length/a.value)),A=P(()=>{const C=l.value*a.value,V=C+a.value;return i.value.slice(C,V)}),L=P(()=>i.value[t.value]||i.value[0]),Y=P(()=>L.value.art[n.value]||L.value.art[0]);function E(C){t.value=C,n.value=0,y.value="perspective(1000px) rotateX(0deg)",m.value=!1,T()}function O(){m.value||L.value.art.length>1&&(m.value=!0,y.value="perspective(1000px) rotateX(90deg)",setTimeout(()=>{n.value=(n.value+1)%L.value.art.length,y.value="perspective(1000px) rotateX(0deg)",setTimeout(()=>{m.value=!1},500)},500))}function j(){l.value=l.value===0?w.value-1:l.value-1,t.value=l.value*a.value}function p(){l.value=l.value===w.value-1?0:l.value+1,t.value=l.value*a.value}function f(C){C>=0&&C<w.value&&(l.value=C,t.value=C*a.value)}function T(){d.value=!0,setTimeout(()=>{d.value=!1},s.characterGallery.characterInfo.displayTime)}return Q(()=>{T()}),(C,V)=>(u(),v("div",null,[U(de),_.value?(u(),_e(xa,{key:0,onExit:x})):(u(),v("div",Pa,[e("div",Ia,[e("div",{class:"section-header",onClick:b},[e("h2",Aa,o(z(s).characterGallery.header.title),1),e("p",La,o(z(s).characterGallery.header.subtitle),1)])]),e("div",qa,[e("div",Fa,[e("div",{id:"characterInfoPanel",class:"character-showcase__info",style:X({opacity:d.value?1:0,pointerEvents:d.value?"auto":"none"})},[e("h1",ja,o(L.value.name),1),e("p",za,o(L.value.title),1),e("div",Da,[(u(!0),v(q,null,F(L.value.tags,I=>(u(),v("span",{key:I,class:"character-showcase__tag"},o(I),1))),128))]),e("p",Ta,o(L.value.description),1)],4),e("div",{class:"character-showcase__artwork-container",onClick:O,style:X({transform:y.value})},[e("div",Ea,[e("div",Va,[e("img",{src:Y.value,alt:L.value.name},null,8,Ba)])])],4)])]),e("div",Ua,[e("div",Oa,[(u(!0),v(q,null,F(A.value,(I,W)=>(u(),v("div",{key:I.id,class:K(["character-showcase__item",{active:t.value===l.value*a.value+W}]),onClick:ve=>E(l.value*a.value+W)},[e("img",{src:I.avatar,alt:I.name},null,8,Ra),e("span",null,o(I.name.length>5?I.name.substring(0,5)+"...":I.name),1)],10,Ha))),128))]),e("div",Ma,[e("button",{class:"character-showcase__page-btn character-showcase__page-btn--prev",onClick:j},[...V[0]||(V[0]=[e("img",{src:"https://www.yysls.cn/pc/fab/20250723194326/img/feature_prev_d3634779.png?image_process=format,png",alt:"左箭头",style:{width:"30px"}},null,-1)])]),e("div",Na,[(u(!0),v(q,null,F(w.value,I=>(u(),v("span",{key:I,class:K(["character-showcase__page-indicator",{active:l.value===I-1}]),onClick:W=>f(I-1)},o(I),11,Ga))),128))]),e("button",{class:"character-showcase__page-btn character-showcase__page-btn--next",onClick:p},[...V[1]||(V[1]=[e("img",{src:"https://www.yysls.cn/pc/fab/20250723194326/img/feature_next_6f404b40.png?image_process=format,png",alt:"右箭头",style:{width:"30px"}},null,-1)])])])])])),U(ue)]))}},Wa=oe(Ya,[["__scopeId","data-v-2876307e"]]),Ka={id:"weeklyReport",class:"weekly-report-section"},Ja={class:"weekly-report-container"},Xa={class:"weekly-report-header"},Qa={class:"weekly-report-logo"},Za=["src","alt"],eo={class:"weekly-report-title"},to={class:"weekly-report-issue"},ao={class:"weekly-report-leaders"},oo={class:"leader-card"},so=["src","alt"],no={class:"leader-info"},ro={class:"leader-title"},lo={class:"leader-name"},io={class:"leader-card"},co=["src","alt"],uo={class:"leader-info"},vo={class:"leader-title"},po={class:"leader-name"},go={class:"weekly-report-date"},_o={class:"weekly-report-content"},mo={class:"weekly-report-left-column"},ho={class:"active-members-section"},yo={class:"members-ranking"},fo={class:"ranking-number"},bo={class:"ranking-name"},ko={class:"ranking-score"},wo={class:"weekly-report-center-column"},xo={class:"love-music-section"},$o={class:"love-music-leaders"},Co={class:"leader-header"},So=["src","alt"],Po={class:"leader-info"},Io={class:"leader-records"},Ao={class:"record-name"},Lo={class:"record-time"},qo={class:"weekly-report-right-column"},Fo={class:"mvp-section"},jo={class:"mvp-leaders"},zo={class:"mvp-boss-header"},Do=["src","alt"],To={class:"mvp-boss-info"},Eo={class:"mvp-boss-records"},Vo={class:"mvp-record-name"},Bo={class:"mvp-record-damage"},Uo={class:"mvp-record-dps"},Oo={class:"weekly-report-bottom"},Ho={class:"weekly-summary"},Ro={class:"section-title"},Mo={class:"summary-content"},No={class:"summary-item"},Go={class:"summary-date"},Yo={class:"summary-highlights"},Wo={class:"highlight-label"},Ko={class:"highlight-text"},Jo={class:"battle-section"},Xo={class:"battle-records"},Qo={class:"battle-opponent"},Zo={class:"battle-members"},es=["src"],ts={class:"weekly-report-footer"},as={class:"footer-stats-grid"},os={class:"stat-card prosperity"},ss={class:"stat-icon"},ns={class:"stat-content"},rs={class:"stat-number"},ls={class:"stat-label"},is={class:"stat-trend"},cs={class:"stat-card ranking"},ds={class:"stat-icon"},us={class:"stat-content"},vs={class:"stat-number"},ps={class:"stat-label"},gs={class:"stat-badge"},_s={class:"stat-card members"},ms={class:"stat-icon"},hs={class:"stat-content"},ys={class:"stat-number"},fs={class:"stat-label"},bs={class:"stat-trend"},ks={class:"stat-card activities"},ws={class:"stat-icon"},xs={class:"stat-content"},$s={class:"stat-number"},Cs={class:"stat-label"},Ss={class:"stat-trend"},Ps={class:"footer-info"},Is={class:"footer-timestamp"},As={class:"footer-version"},Ls={class:"recruitment-section"},qs={class:"recruitment-content"},Fs={class:"new-members-grid"},js=["src","alt"],zs={class:"new-member-name"},Ds={__name:"WeeklyReport",setup(r){const a=P(()=>s.weeklyReport||Ke);return(l,t)=>(u(),v("div",null,[U(de),t[10]||(t[10]=e("div",{class:"weekly-report-page-header"},[e("div",{class:"section-header"},[e("h1",{class:"section-header__title"},"百业周报"),e("p",{class:"section-header__subtitle"},"江湖风云，一览无余")])],-1)),e("section",Ka,[e("div",Ja,[e("div",Xa,[e("div",Qa,[e("img",{src:a.value.guildInfo.logo,alt:a.value.guildInfo.name,loading:"lazy"},null,8,Za)]),e("div",eo,[e("h3",null,o(a.value.guildInfo.name),1),e("div",to,"No."+o(a.value.guildInfo.id),1)]),e("div",ao,[e("div",oo,[e("img",{src:a.value.guildInfo.leader.avatar,alt:a.value.guildInfo.leader.title,loading:"lazy"},null,8,so),e("div",no,[e("div",ro,o(a.value.guildInfo.leader.title),1),e("div",lo,o(a.value.guildInfo.leader.name),1)])]),e("div",io,[e("img",{src:a.value.guildInfo.viceLeader.avatar,alt:a.value.guildInfo.viceLeader.title,loading:"lazy"},null,8,co),e("div",uo,[e("div",vo,o(a.value.guildInfo.viceLeader.title),1),e("div",po,o(a.value.guildInfo.viceLeader.name),1)])])]),e("div",go,o(a.value.date),1)]),e("div",_o,[e("div",mo,[e("div",ho,[t[0]||(t[0]=e("h4",{class:"section-title"},"好厉害的活跃分子",-1)),e("div",yo,[(u(!0),v(q,null,F(a.value.activeMembers,n=>(u(),v("div",{key:n.rank,class:"ranking-item"},[e("div",fo,o(n.rank),1),e("div",bo,o(n.name),1),e("div",ko,o(n.score),1)]))),128))])])]),e("div",wo,[e("div",xo,[t[2]||(t[2]=e("h4",{class:"section-title"},"恋与首领 · TOP5",-1)),e("div",$o,[(u(!0),v(q,null,F(a.value.loveMusicLeaders,(n,d)=>(u(),v("div",{key:d,class:"leader-section"},[e("div",Co,[e("img",{src:n.leaderAvatar,alt:n.leaderName,class:"leader-avatar",loading:"lazy"},null,8,So),e("div",Po,[e("h5",null,o(n.leaderName),1),t[1]||(t[1]=e("div",{class:"leader-title"},"首领挑战记录",-1))])]),e("div",Io,[(u(!0),v(q,null,F(n.top5Records,_=>(u(),v("div",{key:_.rank,class:"record-item"},[e("div",{class:K(["record-rank",`rank-${_.rank}`])},o(_.rank),3),e("div",Ao,o(_.name),1),e("div",Lo,o(_.time),1)]))),128))])]))),128))])])]),e("div",qo,[e("div",Fo,[t[4]||(t[4]=e("h4",{class:"section-title"},"百业侠境MVP榜",-1)),e("div",jo,[(u(!0),v(q,null,F(a.value.mvpLeaders,(n,d)=>(u(),v("div",{key:d,class:"mvp-boss-section"},[e("div",zo,[e("img",{src:n.bossAvatar,alt:n.bossName,class:"mvp-boss-avatar",loading:"lazy"},null,8,Do),e("div",To,[e("h5",null,o(n.bossName),1),t[3]||(t[3]=e("div",{class:"mvp-boss-title"},"伤害排行榜",-1))])]),e("div",Eo,[(u(!0),v(q,null,F(n.top5Records,_=>(u(),v("div",{key:_.rank,class:"mvp-record-item"},[e("div",{class:K(["mvp-record-rank",`rank-${_.rank}`])},o(_.rank),3),e("div",Vo,o(_.name),1),e("div",Bo,o(_.damage),1),e("div",Uo,o(_.dps),1)]))),128))])]))),128))])])])]),e("div",Oo,[e("div",Ho,[e("h4",Ro,o(a.value.weeklySummary.title),1),e("div",Mo,[e("div",No,[e("span",Go,o(a.value.weeklySummary.mainContent),1)]),e("div",Yo,[(u(!0),v(q,null,F(a.value.weeklySummary.highlights,(n,d)=>(u(),v("div",{key:d,class:K(["highlight-item",n.type])},[e("span",Wo,o(n.label),1),e("span",Ko,o(n.text),1)],2))),128))])])]),e("div",Jo,[t[5]||(t[5]=e("h4",{class:"section-title"},"百业战 · 百业栋梁",-1)),e("div",Xo,[(u(!0),v(q,null,F(a.value.battleRecords,(n,d)=>(u(),v("div",{key:d,class:"battle-record"},[e("div",Qo,o(n.opponent),1),e("div",{class:K(["battle-result",n.result==="win"?"win":"lose"])},o(n.result==="win"?"胜":"负"),3)]))),128))]),e("div",Zo,[(u(!0),v(q,null,F(a.value.battleMembers,(n,d)=>(u(),v("img",{key:d,src:n,alt:"战斗成员",class:"battle-member",loading:"lazy"},null,8,es))),128))])])]),e("div",ts,[e("div",as,[e("div",os,[e("div",ss,o(a.value.stats.prosperity.icon),1),e("div",ns,[e("div",rs,o(a.value.stats.prosperity.value),1),e("div",ls,o(a.value.stats.prosperity.label),1),e("div",is,o(a.value.stats.prosperity.trend),1)])]),e("div",cs,[e("div",ds,o(a.value.stats.ranking.icon),1),e("div",us,[e("div",vs,o(a.value.stats.ranking.value),1),e("div",ps,o(a.value.stats.ranking.label),1),e("div",gs,o(a.value.stats.ranking.badge),1)])]),e("div",_s,[e("div",ms,o(a.value.stats.members.icon),1),e("div",hs,[e("div",ys,o(a.value.stats.members.value),1),e("div",fs,o(a.value.stats.members.label),1),e("div",bs,o(a.value.stats.members.trend),1)])]),e("div",ks,[e("div",ws,o(a.value.stats.activities.icon),1),e("div",xs,[e("div",$s,o(a.value.stats.activities.value),1),e("div",Cs,o(a.value.stats.activities.label),1),e("div",Ss,o(a.value.stats.activities.trend),1)])])]),e("div",Ps,[e("div",Is,[t[6]||(t[6]=e("span",{class:"timestamp-icon"},"🕐",-1)),J(" "+o(a.value.footerInfo.timestamp),1)]),e("div",As,[t[7]||(t[7]=e("span",{class:"version-icon"},"📊",-1)),J(" "+o(a.value.footerInfo.version),1)])])]),e("div",Ls,[t[9]||(t[9]=e("h4",{class:"section-title"},"来人，来！",-1)),e("div",qs,[t[8]||(t[8]=e("div",{class:"recruitment-highlight"},"热烈欢迎新加入成员",-1)),e("div",Fs,[(u(!0),v(q,null,F(a.value.newMembers,(n,d)=>(u(),v("div",{key:d,class:"new-member"},[e("img",{src:n.avatar,alt:n.name,loading:"lazy"},null,8,js),e("div",zs,o(n.name),1)]))),128))])])])])]),U(ue)]))}},Ts=oe(Ds,[["__scopeId","data-v-5d12ff37"]]),Es=[{path:"/",name:"Home",component:Wt,meta:{title:"云间来客 - 百业风华录"}},{path:"/character-gallery",name:"CharacterGallery",component:Wa,meta:{title:"百业人员 - 云间来客"}},{path:"/weekly-report",name:"WeeklyReport",component:Ts,meta:{title:"百业周报 - 云间来客"}}],fe=Ie({history:Ae("/"),routes:Es,scrollBehavior(r,a,l){return l||(r.hash?{el:r.hash,behavior:"smooth"}:{top:0})}});fe.beforeEach((r,a,l)=>{document.title=r.meta.title||"云间来客",l()});function Vs(){const r=document.documentElement;r.style.setProperty("--font-family",D.typography.fontFamily),r.style.setProperty("--hero-title-shadow",D.hero.typography.textShadow),r.style.setProperty("--hero-overlay",D.hero.overlay),r.style.setProperty("--nav-background",D.navigation.colors.background),r.style.setProperty("--btn-primary-bg",D.hero.buttons.primary.background),r.style.setProperty("--btn-primary-color",D.hero.buttons.primary.color),r.style.setProperty("--character-bg",D.characterGallery.background),console.log("关键CSS变量已在首屏渲染前应用")}Vs();function ge(){const r=Le(De);r.use(fe),r.mount("#app")}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",ge):requestAnimationFrame(ge);window.addEventListener("keydown",function(r){r.ctrlKey&&(r.keyCode===107||r.keyCode===109||r.keyCode===187||r.keyCode===189)&&r.preventDefault()});window.addEventListener("mousewheel",function(r){(r.ctrlKey===!0||r.metaKey)&&r.preventDefault()},{passive:!1});window.addEventListener("DOMMouseScroll",function(r){(r.ctrlKey===!0||r.metaKey)&&r.preventDefault()},{passive:!1});
