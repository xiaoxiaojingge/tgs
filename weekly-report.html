<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#1A202C">
    <title>ç™¾ä¸šå‘¨æŠ¥ - äº‘é—´æ¥å®¢</title>
    <link rel="stylesheet" href="./CSS/styles.css">
    <link rel="stylesheet" href="./CSS/fonts.css">
    <link rel="stylesheet" href="./CSS/video-responsive.css">
    <link rel="stylesheet" href="./CSS/resolution-max-575.css">
    <link rel="stylesheet" href="./CSS/resolution-max-767.css">
    <link rel="stylesheet" href="./CSS/resolution-max-991.css">
    <link rel="stylesheet" href="./CSS/resolution-max-1199.css">
    <link rel="stylesheet" href="./CSS/resolution-max-1439.css">
    <link rel="stylesheet" href="./CSS/resolution-max-1920.css">
    <link rel="stylesheet" href="./CSS/resolution-max-2560.css">
</head>
<body>

<!-- å¯¼èˆªæ  -->
<nav id="mainNavigation" class="main-nav">
    <div class="main-nav__container">
        <div class="main-nav__brand">
            <img id="navigationLogo" src="" alt="logo2"/>
            <h2 id="navigationTitle"></h2>
        </div>
        <ul class="main-nav__menu">
            <li><a href="index.html" class="main-nav__link">é¦–é¡µ</a></li>
            <li><a href="index.html#videoShowcase" class="main-nav__link">ç™¾ä¸šæ··å‰ª</a></li>
            <li><a href="index.html#organizationActivities" class="main-nav__link">ç™¾ä¸šæ´»åŠ¨</a></li>
            <li><a href="weekly-report.html" class="main-nav__link main-nav__link--active">ç™¾ä¸šå‘¨æŠ¥</a></li>
            <li><a href="index.html#characterGallery" class="main-nav__link">ç™¾ä¸šäººå‘˜</a></li>
            <li><a href="index.html#contactSection" class="main-nav__link">åŠ å…¥æˆ‘ä»¬</a></li>
        </ul>
    </div>
</nav>

<!-- ç™¾ä¸šå‘¨æŠ¥é¡µé¢æ ‡é¢˜ -->
<div class="weekly-report-page-header">
    <div class="section-header">
        <h1 class="section-header__title">ç™¾ä¸šå‘¨æŠ¥</h1>
        <p class="section-header__subtitle">æ±Ÿæ¹–é£äº‘ï¼Œä¸€è§ˆæ— ä½™</p>
    </div>
</div>

<!-- ç™¾ä¸šå‘¨æŠ¥åŒºåŸŸ -->
<section id="weeklyReport" class="weekly-report-section">
    <div class="weekly-report-container">
        <!-- å¼€å°é«˜çº§ä¼šæ‰€ -->
        <div class="weekly-report-header" id="weeklyReportHeader">
            <!-- å‘¨æŠ¥å¤´éƒ¨ä¿¡æ¯å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
        </div>

        <!-- ä¸»è¦å†…å®¹åŒºåŸŸ -->
        <div class="weekly-report-content">
            <!-- å·¦ä¾§åˆ—ï¼šæ´»è·ƒåˆ†å­ -->
            <div class="weekly-report-left-column">
                <div class="active-members-section">
                    <h4 class="section-title">å¥½å‰å®³çš„æ´»è·ƒåˆ†å­</h4>
                    <div class="members-ranking" id="activeMembersRanking">
                        <!-- æ´»è·ƒæˆå‘˜æ’è¡Œæ¦œå°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                    </div>
                </div>
            </div>

            <!-- ä¸­é—´åˆ—ï¼šæ‹ä¸é¦–é¢† TOP5 -->
            <div class="weekly-report-center-column">
                <div class="love-music-section">
                    <h4 class="section-title">æ‹ä¸é¦–é¢† Â· TOP5</h4>
                    <div class="love-music-leaders" id="loveMusicLeaders">
                        <!-- ä¸¤ä¸ªé¦–é¢†çš„TOP5è®°å½•å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                    </div>
                </div>
            </div>

            <!-- å³ä¾§åˆ—ï¼šç™¾ä¸šä¾ å¢ƒMVPæ¦œ -->
            <div class="weekly-report-right-column">
                <div class="mvp-section">
                    <h4 class="section-title">ç™¾ä¸šä¾ å¢ƒMVPæ¦œ</h4>
                    <div class="mvp-leaders" id="mvpLeaders">
                        <!-- ä¸¤ä¸ªBossçš„MVPè®°å½•å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                    </div>
                </div>
            </div>
        </div>

        <!-- ä¸‹æ–¹å†…å®¹åŒºåŸŸ -->
        <div class="weekly-report-bottom">
            <!-- ä¸Šå‘¨çº‚è¦ -->
            <div class="weekly-summary" id="weeklySummary">
                <!-- ä¸Šå‘¨çº‚è¦å†…å®¹å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
            </div>

            <!-- ç™¾ä¸šæˆ˜Â·ç™¾ä¸šæ ‹æ¢ -->
            <div class="battle-section">
                <h4 class="section-title">ç™¾ä¸šæˆ˜ Â· ç™¾ä¸šæ ‹æ¢</h4>
                <div class="battle-records" id="battleRecords">
                    <!-- æˆ˜ç»©è®°å½•å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                </div>
                <div class="battle-members" id="battleMembers">
                    <!-- æˆ˜æ–—æˆå‘˜å¤´åƒå°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                </div>
            </div>

        </div>

        <!-- åº•éƒ¨ä¿¡æ¯ -->
        <div class="weekly-report-footer" id="weeklyReportFooter">
            <!-- åº•éƒ¨ç»Ÿè®¡ä¿¡æ¯å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
        </div>

        <!-- æ¥äººï¼Œæ¥ï¼ -->
        <div class="recruitment-section">
            <h4 class="section-title">æ¥äººï¼Œæ¥ï¼</h4>
            <div class="recruitment-content">
                <div class="recruitment-highlight">çƒ­çƒˆæ¬¢è¿æ–°åŠ å…¥æˆå‘˜</div>
                <div class="new-members-grid" id="newMembersGrid">
                    <!-- æ–°æˆå‘˜å¤´åƒç½‘æ ¼å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                </div>
            </div>
        </div>
    </div>
</section>

<!-- é¡µè„š -->
<footer id="contactSection" class="site-footer">
    <div class="container">
        <div class="site-footer__content">
            <div class="site-footer__section">
                <h4>äº‘é—´æ¥å®¢</h4>
                <p>å±•ç¤ºå„æµæ´¾å’¸é±¼äººæ‰ï¼Œå¼˜æ‰¬å’¸é±¼ç²¾ç¥</p>
            </div>
            <div class="site-footer__section">
                <h4></h4>
                <p></p>
            </div>
            <div class="site-footer__section">
                <h4>å…³æ³¨æˆ‘ä»¬</h4>
                <div class="site-footer__social">
                    <a class="site-footer__social-link"></a>
                </div>
            </div>
        </div>
        <div class="site-footer__bottom">
            <p>&copy; 2025 äº‘é—´æ¥å®¢. ä¿ç•™æ‰€æœ‰æƒåˆ©.</p>
        </div>
    </div>
</footer>

<script src="js/DPlayer.min.js"></script>
<script src="config.js"></script>
<script src="imageUtils.js"></script>

<!-- ç™¾ä¸šå‘¨æŠ¥ç‹¬ç«‹æ•°æ®å’ŒåŠŸèƒ½ -->
<script>
// ==================== ç™¾ä¸šå‘¨æŠ¥æ•°æ®å®šä¹‰ ====================
const weeklyReportData = {
    // åŸºç¡€ä¿¡æ¯
    guildInfo: {
        name: "äº‘é—´æ¥å®¢",
        id: "10398455",
        logo: "https://s3plus.meituan.net/opapisdk/op_ticket_885190757_1758552836271_qdqqd_3gp3ep.png",
        leader: {
            title: "ç¤¾ä¸»",
            name: "ç‰åŒæ½‡",
            avatar: "https://gitee.com/xiaojinggege/BaiYeFengHuaLu/raw/Vue/Static/player/avatar/avatar48.avif"
        },
        viceLeader: {
            title: "å‰¯ç¤¾ä¸»",
            name: "æ±Ÿå¶å¦‚",
            avatar: "https://gitee.com/xiaojinggege/BaiYeFengHuaLu/raw/Vue/Static/player/avatar/avatar48.avif"
        }
    },

    issue: "ç¬¬ä¸€æœŸ", // å¯ä»¥æ ¹æ®éœ€è¦ä¿®æ”¹ä¸ºåŠ¨æ€ç”Ÿæˆ
    date: "æ¯å‘¨ä¸€æŠ¥",
    publishTime: "2025å¹´8æœˆ24æ—¥ 23:00",

    // æ´»è·ƒæˆå‘˜æ’è¡Œæ¦œ
    activeMembers: [
        {rank: 1, name: "å ä½", score: "5575"},
        {rank: 2, name: "å ä½", score: "5535"},
        {rank: 3, name: "å ä½", score: "5525"},
        {rank: 4, name: "å ä½", score: "5415"},
        {rank: 5, name: "å ä½", score: "5205"},
        {rank: 6, name: "å ä½", score: "5145"},
        {rank: 7, name: "å ä½", score: "5025"},
        {rank: 8, name: "å ä½", score: "5004"},
        {rank: 9, name: "å ä½", score: "4910"},
        {rank: 10, name: "å ä½", score: "4705"}
    ],

    // æ‹ä¸éŸ³é¢†TOP5æ•°æ® - ä¸¤ä¸ªé¦–é¢†çš„æŒ‘æˆ˜è®°å½•
    loveMusicLeaders: [
        {
            leaderName: "å ä½",
            leaderAvatar: "https://gitee.com/xiaojinggege/BaiYeFengHuaLu/raw/Vue/Static/player/avatar/avatar35.avif",
            top5Records: [
                {rank: 1, name: "å ä½", time: "1'38\""},
                {rank: 2, name: "å ä½", time: "1'42\""},
                {rank: 3, name: "å ä½", time: "1'48\""},
                {rank: 4, name: "å ä½", time: "1'57\""},
                {rank: 5, name: "å ä½", time: "2'14\""}
            ]
        },
        {
            leaderName: "å ä½",
            leaderAvatar: "https://gitee.com/xiaojinggege/BaiYeFengHuaLu/raw/Vue/Static/player/avatar/avatar35.avif",
            top5Records: [
                {rank: 1, name: "å ä½", time: "1'32\""},
                {rank: 2, name: "å ä½", time: "2'38\""},
                {rank: 3, name: "å ä½", time: "3'01\""},
                {rank: 4, name: "å ä½", time: "3'02\""},
                {rank: 5, name: "å ä½", time: "3'28\""}
            ]
        }
    ],

    // ç™¾ä¸šä¾ å¢ƒMVPæ¦œæ•°æ® - ä¸¤ä¸ªBossçš„ä¼¤å®³è®°å½•
    mvpLeaders: [
        {
            bossName: "å ä½",
            bossAvatar: "https://gitee.com/xiaojinggege/BaiYeFengHuaLu/raw/Vue/Static/player/avatar/avatar35.avif",
            top5Records: [
                {rank: 1, name: "å ä½", damage: "12.5ä¸‡", dps: "8,547"},
                {rank: 2, name: "å ä½", damage: "11.8ä¸‡", dps: "7,923"},
                {rank: 3, name: "å ä½", damage: "10.9ä¸‡", dps: "7,234"},
                {rank: 4, name: "å ä½", damage: "9.7ä¸‡", dps: "6,845"},
                {rank: 5, name: "å ä½", damage: "8.9ä¸‡", dps: "6,123"}
            ]
        },
        {
            bossName: "å ä½",
            bossAvatar: "https://gitee.com/xiaojinggege/BaiYeFengHuaLu/raw/Vue/Static/player/avatar/avatar35.avif",
            top5Records: [
                {rank: 1, name: "å ä½", damage: "15.2ä¸‡", dps: "9,876"},
                {rank: 2, name: "å ä½", damage: "14.1ä¸‡", dps: "8,954"},
                {rank: 3, name: "å ä½", damage: "13.3ä¸‡", dps: "8,234"},
                {rank: 4, name: "å ä½", damage: "12.7ä¸‡", dps: "7,891"},
                {rank: 5, name: "å ä½", damage: "11.9ä¸‡", dps: "7,456"}
            ]
        }
    ],

    // ç™¾ä¸šæˆ˜è®°å½•
    battleRecords: [
        {opponent: "å ä½", result: "win"},
        {opponent: "å ä½", result: "win"},
    ],

    // ç™¾ä¸šæˆ˜æˆå‘˜å¤´åƒ
    battleMembers: [
        "https://gitee.com/xiaojinggege/BaiYeFengHuaLu/raw/Vue/Static/player/avatar/avatar11.avif",
        "https://gitee.com/xiaojinggege/BaiYeFengHuaLu/raw/Vue/Static/player/avatar/avatar83.avif",
        "https://gitee.com/xiaojinggege/BaiYeFengHuaLu/raw/Vue/Static/player/avatar/avatar35.avif",
        "https://gitee.com/xiaojinggege/BaiYeFengHuaLu/raw/Vue/Static/player/avatar/avatar61.avif",
        "https://gitee.com/xiaojinggege/BaiYeFengHuaLu/raw/Vue/Static/player/avatar/avatar39.avif"
    ],

    // æ–°åŠ å…¥æˆå‘˜
    newMembers: [
        {
            name: "å ä½",
            avatar: "https://gitee.com/xiaojinggege/BaiYeFengHuaLu/raw/Vue/Static/player/avatar/avatar11.avif"
        },
        {
            name: "å ä½",
            avatar: "https://gitee.com/xiaojinggege/BaiYeFengHuaLu/raw/Vue/Static/player/avatar/avatar83.avif"
        },
        {
            name: "å ä½",
            avatar: "https://gitee.com/xiaojinggege/BaiYeFengHuaLu/raw/Vue/Static/player/avatar/avatar35.avif"
        },
        {
            name: "å ä½",
            avatar: "https://gitee.com/xiaojinggege/BaiYeFengHuaLu/raw/Vue/Static/player/avatar/avatar61.avif"
        },
        {
            name: "å ä½",
            avatar: "https://gitee.com/xiaojinggege/BaiYeFengHuaLu/raw/Vue/Static/player/avatar/avatar39.avif"
        },
        {
            name: "å ä½",
            avatar: "https://gitee.com/xiaojinggege/BaiYeFengHuaLu/raw/Vue/Static/player/avatar/avatar34.avif"
        },
        {
            name: "å ä½",
            avatar: "https://gitee.com/xiaojinggege/BaiYeFengHuaLu/raw/Vue/Static/player/avatar/avatar42.avif"
        },
        {
            name: "å ä½",
            avatar: "https://gitee.com/xiaojinggege/BaiYeFengHuaLu/raw/Vue/Static/player/avatar/avatar21.avif"
        }
    ],

    // ä¸Šå‘¨çº‚è¦å†…å®¹
    weeklySummary: {
        title: "ä¸Šå‘¨çº‚è¦",
        mainContent: "å ä½ã€‚",
        highlights: [
            {
                type: "green",
                label: "[xxxæ¨è]",
                text: "å ä½"
            },
            {
                type: "blue",
                label: "[xxxæ¨è]",
                text: "å ä½"
            },
            {
                type: "purple",
                label: "[xxxæ¨è]",
                text: "å ä½"
            }
        ]
    },

    // ç»Ÿè®¡æ•°æ®
    stats: {
        prosperity: {
            value: "999999",
            trend: "å ä½",
            icon: "ğŸ†",
            label: "ç™¾ä¸šç¹è£åº¦"
        },
        ranking: {
            value: "æš‚æ— ",
            badge: "æš‚æ— ",
            icon: "ğŸ¯",
            label: "ç™¾ä¸šæ’å"
        },
        members: {
            value: "100",
            trend: "å ä½",
            icon: "ğŸ‘¥",
            label: "æ´»è·ƒæˆå‘˜"
        },
        activities: {
            value: "28",
            trend: "å ä½",
            icon: "âš”ï¸",
            label: "æœ¬å‘¨æ´»åŠ¨"
        }
    },

    // åº•éƒ¨ä¿¡æ¯
    footerInfo: {
        timestamp: "æ•°æ®æ”¶é›†æ—¶é—´ï¼š2025å¹´8æœˆ24æ—¥ 23:00",
        version: "å‘¨æŠ¥ç‰ˆæœ¬ï¼šv1.0.0"
    }
};

// ==================== ç™¾ä¸šå‘¨æŠ¥åŠŸèƒ½å‡½æ•° ====================

// åˆå§‹åŒ–ç™¾ä¸šå‘¨æŠ¥
function initWeeklyReport() {
    console.log('ç™¾ä¸šå‘¨æŠ¥é¡µé¢åˆå§‹åŒ–å¼€å§‹');
    
    try {
        renderWeeklyReportHeader();
        renderActiveMembersRanking();
        renderLoveMusicTop5();
        renderMvpLeaders();
        renderBattleRecords();
        renderBattleMembers();
        renderWeeklySummary();
        renderWeeklyReportFooter();
        renderNewMembers();
        console.log('ç™¾ä¸šå‘¨æŠ¥åˆå§‹åŒ–å®Œæˆ');
    } catch (error) {
        console.error('ç™¾ä¸šå‘¨æŠ¥åˆå§‹åŒ–å¤±è´¥:', error);
    }
}

// æ¸²æŸ“å‘¨æŠ¥å¤´éƒ¨ä¿¡æ¯
function renderWeeklyReportHeader() {
    const container = document.getElementById('weeklyReportHeader');
    if (!container || !weeklyReportData.guildInfo) return;

    const guildInfo = weeklyReportData.guildInfo;

    container.innerHTML = `
        <div class="weekly-report-logo">
            <img src="${guildInfo.logo}" alt="${guildInfo.name}" loading="lazy">
        </div>
        <div class="weekly-report-title">
            <h3>${guildInfo.name}</h3>
            <div class="weekly-report-issue">No.${guildInfo.id}</div>
        </div>
        <div class="weekly-report-leaders">
            <div class="leader-card">
                <img src="${guildInfo.leader.avatar}" alt="${guildInfo.leader.title}" loading="lazy">
                <div class="leader-info">
                    <div class="leader-title">${guildInfo.leader.title}</div>
                    <div class="leader-name">${guildInfo.leader.name}</div>
                </div>
            </div>
            <div class="leader-card">
                <img src="${guildInfo.viceLeader.avatar}" alt="${guildInfo.viceLeader.title}" loading="lazy">
                <div class="leader-info">
                    <div class="leader-title">${guildInfo.viceLeader.title}</div>
                    <div class="leader-name">${guildInfo.viceLeader.name}</div>
                </div>
            </div>
        </div>
        <div class="weekly-report-date">${weeklyReportData.date}</div>
    `;
}

// æ¸²æŸ“æ´»è·ƒæˆå‘˜æ’è¡Œæ¦œ
function renderActiveMembersRanking() {
    const container = document.getElementById('activeMembersRanking');
    if (!container || !weeklyReportData.activeMembers) return;

    container.innerHTML = '';

    weeklyReportData.activeMembers.forEach(member => {
        const rankingItem = document.createElement('div');
        rankingItem.className = 'ranking-item';

        rankingItem.innerHTML = `
            <div class="ranking-number">${member.rank}</div>
            <div class="ranking-name">${member.name}</div>
            <div class="ranking-score">${member.score}</div>
        `;

        container.appendChild(rankingItem);
    });
}

// æ¸²æŸ“æ‹ä¸éŸ³é¢†TOP5
function renderLoveMusicTop5() {
    const container = document.getElementById('loveMusicLeaders');
    if (!container || !weeklyReportData.loveMusicLeaders) return;

    container.innerHTML = '';

    weeklyReportData.loveMusicLeaders.forEach(leader => {
        const leaderDiv = document.createElement('div');
        leaderDiv.className = 'leader-section';

        // åˆ›å»ºé¦–é¢†å¤´éƒ¨ä¿¡æ¯
        const headerHTML = `
            <div class="leader-header">
                <img src="${leader.leaderAvatar}" alt="${leader.leaderName}" class="leader-avatar" loading="lazy">
                <div class="leader-info">
                    <h5>${leader.leaderName}</h5>
                    <div class="leader-title">é¦–é¢†æŒ‘æˆ˜è®°å½•</div>
                </div>
            </div>
        `;

        // åˆ›å»ºè®°å½•åˆ—è¡¨
        const recordsHTML = leader.top5Records.map(record => `
            <div class="record-item">
                <div class="record-rank rank-${record.rank}">${record.rank}</div>
                <div class="record-name">${record.name}</div>
                <div class="record-time">${record.time}</div>
            </div>
        `).join('');

        leaderDiv.innerHTML = `
            ${headerHTML}
            <div class="leader-records">
                ${recordsHTML}
            </div>
        `;

        container.appendChild(leaderDiv);
    });
}

// æ¸²æŸ“ç™¾ä¸šä¾ å¢ƒMVPæ¦œ
function renderMvpLeaders() {
    const container = document.getElementById('mvpLeaders');
    if (!container || !weeklyReportData.mvpLeaders) return;

    container.innerHTML = '';

    weeklyReportData.mvpLeaders.forEach(boss => {
        const bossDiv = document.createElement('div');
        bossDiv.className = 'mvp-boss-section';

        // åˆ›å»ºBosså¤´éƒ¨ä¿¡æ¯
        const headerHTML = `
            <div class="mvp-boss-header">
                <img src="${boss.bossAvatar}" alt="${boss.bossName}" class="mvp-boss-avatar" loading="lazy">
                <div class="mvp-boss-info">
                    <h5>${boss.bossName}</h5>
                    <div class="mvp-boss-title">ä¼¤å®³æ’è¡Œæ¦œ</div>
                </div>
            </div>
        `;

        // åˆ›å»ºè®°å½•åˆ—è¡¨
        const recordsHTML = boss.top5Records.map(record => `
            <div class="mvp-record-item">
                <div class="mvp-record-rank rank-${record.rank}">${record.rank}</div>
                <div class="mvp-record-name">${record.name}</div>
                <div class="mvp-record-damage">${record.damage}</div>
                <div class="mvp-record-dps">${record.dps}</div>
            </div>
        `).join('');

        bossDiv.innerHTML = `
            ${headerHTML}
            <div class="mvp-records">
                ${recordsHTML}
            </div>
        `;

        container.appendChild(bossDiv);
    });
}

// æ¸²æŸ“ç™¾ä¸šæˆ˜è®°å½•
function renderBattleRecords() {
    const container = document.getElementById('battleRecords');
    if (!container || !weeklyReportData.battleRecords) return;

    container.innerHTML = '';

    weeklyReportData.battleRecords.forEach(record => {
        const recordDiv = document.createElement('div');
        recordDiv.className = 'battle-record';

        const resultText = record.result === 'win' ? 'èƒœ' : 'è´Ÿ';
        const resultClass = record.result === 'win' ? 'win' : 'lose';

        recordDiv.innerHTML = `
            <div class="battle-opponent">${record.opponent}</div>
            <div class="battle-result ${resultClass}">${resultText}</div>
        `;

        container.appendChild(recordDiv);
    });
}

// æ¸²æŸ“ç™¾ä¸šæˆ˜æˆå‘˜å¤´åƒ
function renderBattleMembers() {
    const container = document.getElementById('battleMembers');
    if (!container || !weeklyReportData.battleMembers) return;

    container.innerHTML = '';

    weeklyReportData.battleMembers.forEach(avatarUrl => {
        const memberImg = document.createElement('img');
        memberImg.className = 'battle-member';
        memberImg.src = avatarUrl;
        memberImg.alt = 'æˆ˜æ–—æˆå‘˜';
        memberImg.loading = 'lazy';

        container.appendChild(memberImg);
    });
}

// æ¸²æŸ“ä¸Šå‘¨çº‚è¦
function renderWeeklySummary() {
    const container = document.getElementById('weeklySummary');
    if (!container || !weeklyReportData.weeklySummary) return;

    const summary = weeklyReportData.weeklySummary;

    // ç”Ÿæˆé«˜äº®é¡¹ç›®HTML
    const highlightsHTML = summary.highlights.map(highlight => `
        <div class="highlight-item ${highlight.type}">
            <span class="highlight-label">${highlight.label}</span>
            <span class="highlight-text">${highlight.text}</span>
        </div>
    `).join('');

    container.innerHTML = `
        <h4 class="section-title">${summary.title}</h4>
        <div class="summary-content">
            <div class="summary-item">
                <span class="summary-date">${summary.mainContent}</span>
            </div>
            <div class="summary-highlights">
                ${highlightsHTML}
            </div>
        </div>
    `;
}

// æ¸²æŸ“å‘¨æŠ¥åº•éƒ¨ç»Ÿè®¡ä¿¡æ¯
function renderWeeklyReportFooter() {
    const container = document.getElementById('weeklyReportFooter');
    if (!container || !weeklyReportData.stats || !weeklyReportData.footerInfo) return;

    const stats = weeklyReportData.stats;
    const footerInfo = weeklyReportData.footerInfo;

    // ç”Ÿæˆç»Ÿè®¡å¡ç‰‡HTML
    const statsHTML = Object.keys(stats).map(key => {
        const stat = stats[key];
        const cardClass = key; // prosperity, ranking, members, activities

        // æ ¹æ®ä¸åŒç±»å‹ç”Ÿæˆä¸åŒçš„å†…å®¹
        let contentHTML = '';
        if (stat.trend) {
            contentHTML = `<div class="stat-trend">${stat.trend}</div>`;
        } else if (stat.badge) {
            contentHTML = `<div class="stat-badge">${stat.badge}</div>`;
        }

        return `
            <div class="stat-card ${cardClass}">
                <div class="stat-icon">${stat.icon}</div>
                <div class="stat-content">
                    <div class="stat-number">${stat.value}</div>
                    <div class="stat-label">${stat.label}</div>
                    ${contentHTML}
                </div>
            </div>
        `;
    }).join('');

    container.innerHTML = `
        <div class="footer-stats-grid">
            ${statsHTML}
        </div>
        <div class="footer-info">
            <div class="footer-timestamp">
                <span class="timestamp-icon">ğŸ•</span>
                ${footerInfo.timestamp}
            </div>
            <div class="footer-version">
                <span class="version-icon">ğŸ“Š</span>
                ${footerInfo.version}
            </div>
        </div>
    `;
}

// æ¸²æŸ“æ–°åŠ å…¥æˆå‘˜
function renderNewMembers() {
    const container = document.getElementById('newMembersGrid');
    if (!container || !weeklyReportData.newMembers) return;

    container.innerHTML = '';

    weeklyReportData.newMembers.forEach(member => {
        const memberDiv = document.createElement('div');
        memberDiv.className = 'new-member';

        memberDiv.innerHTML = `
            <img src="${member.avatar}" alt="${member.name}" loading="lazy">
            <div class="new-member-name">${member.name}</div>
        `;

        container.appendChild(memberDiv);
    });
}

// ==================== ç™¾ä¸šå‘¨æŠ¥é¡µé¢åˆå§‹åŒ– ====================

// ç™¾ä¸šå‘¨æŠ¥é¡µé¢ä¸“ç”¨åˆå§‹åŒ–å‡½æ•°
function initializeWeeklyReportPage() {
    console.log('ç™¾ä¸šå‘¨æŠ¥é¡µé¢å¼€å§‹åˆå§‹åŒ–');
    
    // åº”ç”¨é…ç½®
    if (typeof applyConfig === 'function') {
        applyConfig();
    }
    
    // åˆå§‹åŒ–éŸ³ä¹æ’­æ”¾å™¨
    if (typeof MusicPlayer === 'function') {
        new MusicPlayer();
    }
    
    // ç»‘å®šæ»šåŠ¨äº‹ä»¶
    if (typeof handleNavbarScroll === 'function') {
        window.addEventListener('scroll', handleNavbarScroll);
    }
    
    // åˆå§‹åŒ–ç™¾ä¸šå‘¨æŠ¥
    initWeeklyReport();
    
    // å¤„ç†ç”¨æˆ·äº¤äº’åçš„è‡ªåŠ¨æ’­æ”¾
    document.addEventListener('click', () => {
        const bgMusic = document.getElementById('backgroundAudio');
        if (bgMusic && bgMusic.paused) {
            bgMusic.play().catch(error => {
                console.log("ç”¨æˆ·äº¤äº’åæ’­æ”¾å¤±è´¥:", error);
            });
        }
    }, {once: true});
    
    console.log('ç™¾ä¸šå‘¨æŠ¥é¡µé¢åˆå§‹åŒ–å®Œæˆ');
}

// é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
document.addEventListener('DOMContentLoaded', initializeWeeklyReportPage);

// é˜²æ­¢ç¼©æ”¾åŠŸèƒ½
window.addEventListener('keydown', function (event) {
    if (event.ctrlKey && (event.keyCode === 107 || event.keyCode === 109 || event.keyCode === 187 || event.keyCode === 189)) {
        event.preventDefault();
    }
});
window.addEventListener('mousewheel', function (event) {
    if (event.ctrlKey === true || event.metaKey) {
        event.preventDefault();
    }
}, {passive: false});
window.addEventListener('DOMMouseScroll', function (event) {
    if (event.ctrlKey === true || event.metaKey) {
        event.preventDefault();
    }
}, {passive: false});

</script>

<!-- éœ€è¦ä» script.js è·å–çš„é€šç”¨åŠŸèƒ½ -->
<script src="script.js"></script>


<style>
/* ç™¾ä¸šå‘¨æŠ¥é¡µé¢ç‰¹å®šæ ·å¼ */
.weekly-report-page-header {
    padding: 120px 0 60px 0;
    background: linear-gradient(135deg, #1A202C 0%, #2D3748 100%);
    text-align: center;
    color: white;
}

.weekly-report-page-header .section-header__title {
    font-size: 3rem;
    margin-bottom: 1rem;
    color: #FFD700;
}

.weekly-report-page-header .section-header__subtitle {
    font-size: 1.5rem;
    color: #E2E8F0;
}

/* ç¡®ä¿å¯¼èˆªæ ä¸­å½“å‰é¡µé¢é«˜äº® */
.main-nav__link--active {
    color: #FFD700 !important;
    border-bottom: 2px solid #FFD700;
}

/* åœ¨ç™¾ä¸šå‘¨æŠ¥é¡µé¢åŠ¨æ€è®¾ç½®é«˜äº® */
body {
    --current-page: 'weekly-report';
}

.main-nav__menu li:nth-child(4) .main-nav__link {
    color: #FFD700 !important;
    border-bottom: 2px solid #FFD700;
}

/* è°ƒæ•´ç™¾ä¸šå‘¨æŠ¥åŒºåŸŸçš„é¡¶éƒ¨è¾¹è· */
.weekly-report-section {
    padding-top: 0;
}
</style>

</body>
</html>
